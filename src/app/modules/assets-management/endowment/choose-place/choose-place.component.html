
<!-- Loading bar -->
<fuse-loading-bar></fuse-loading-bar>

<!-- Wrapper -->
<ng-container *ngIf="data.steps.length > 0; else stepInfo">
    <div
        [@fadeInOut]
        class="flex flex-col md:flex-row gap-6 sm:px-18 px-9 items-start md:items-center overflow-auto"
    >
        <!-- title -->
        <div class="md:w-[55%]">
            <h1
                class="text-4xl w-[80%] md:text-5xl lg:text-7xl mb-4 font-semibold"
            >
                {{ data.title }}
            </h1>
            <!-- <p class="text-gray-600 mb-8">{{ step?.description }}</p>  -->
        </div>

        <div
            class="flex flex-col justify-start xl:justify-center items-start mb-5 md:w-[45%]"
        >
            <!-- Render a list of steps -->
            <ul class="space-y-4">
                <li
                    *ngFor="
                        let subStep of data.steps;
                        let i = index;
                        let last = last
                    "
                >
                    <ng-container *ngIf="!last">
                        <div
                            class="pb-6 pt-4 border-b border-gray-200 flex gap-5 justify-between items-start"
                        >
                            <div class="flex gap-5">
                                <div class="text-2xl font-semibold">
                                    {{ i + 1 }}
                                </div>
                                <div>
                                    <h2 class="text-2xl font-semibold">
                                        {{ subStep.title }}
                                    </h2>
                                    <p
                                        class="leading-normal text-gray-500 text-md"
                                    >
                                        {{ subStep.description }}
                                    </p>
                                </div>
                            </div>

                            <ng-container *ngIf="subStep.haveIcon">
                                <div class="flex-0 w-28 h-28 overflow-hidden">
                                    <img
                                        class="w-full h-full object-cover"
                                        [src]="subStep.icon"
                                    />
                                </div>
                            </ng-container>
                        </div>
                        <!-- You can include an image or icon here -->
                    </ng-container>
                    <ng-container *ngIf="last">
                        <div
                            class="pb-6 pt-4 flex gap-5 justify-between items-start"
                        >
                            <div class="flex gap-5">
                                <div class="text-2xl font-semibold">
                                    {{ i + 1 }}
                                </div>
                                <div>
                                    <h2 class="text-2xl font-semibold">
                                        {{ subStep.title }}
                                    </h2>
                                    <p
                                        class="leading-normal text-gray-500 text-md"
                                    >
                                        {{ subStep.description }}
                                    </p>
                                </div>
                            </div>

                            <ng-container *ngIf="subStep.haveIcon">
                                <div class="flex-0 w-28 h-28 overflow-hidden">
                                    <img
                                        class="w-full h-full object-cover"
                                        [src]="subStep.icon"
                                    />
                                </div>
                            </ng-container>
                        </div>
                        <!-- You can include an image or icon here -->
                    </ng-container>
                </li>
            </ul>
        </div>
    </div>
</ng-container>

<ng-template #stepInfo>
    <!-- title -->
    <div
        [@fadeInOut]
        class="flex flex-col md:flex-row gap-6 px-40 items-start md:items-center h-full"
    >
        <div class="md:w-[55%] min-w[50%] lg:w-[50%]">
            <p class="text-xl mb-1 font-semibold">Step 2</p>
            <h1 class="text-4xl md:text-5xl lg:text-7xl mb-3 font-semibold">
                {{ data.title }}
            </h1>
            <p class="text-gray-600 text-xl font-normal mb-8">
                {{ data.description }}
            </p>
        </div>
        <video
            class="w-[45%] max-w-[50%] lg:w-[50%] lg:max-w-[55%]"
            style="object-fit: cover"
            autoplay=""
            crossorigin="anonymous"
            muted=""
            playsinline=""
            preload="auto"
        >
            <source [src]="data.icon" />
        </video>
    </div>
</ng-template>
